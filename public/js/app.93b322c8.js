(function(t){function e(e){for(var o,r,n=e[0],l=e[1],c=e[2],d=0,u=[];d<n.length;d++)r=n[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&u.push(s[r][0]),s[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);v&&v(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],o=!0,r=1;r<a.length;r++){var l=a[r];0!==s[l]&&(o=!1)}o&&(i.splice(e--,1),t=n(n.s=a[0]))}return t}var o={},s={app:0},i=[];function r(t){return n.p+"js/"+({about:"about"}[t]||t)+"."+{about:"c99d8135"}[t]+".js"}function n(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.e=function(t){var e=[],a=s[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise((function(e,o){a=s[t]=[e,o]}));e.push(a[2]=o);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.src=r(t);var c=new Error;i=function(e){l.onerror=l.onload=null,clearTimeout(d);var a=s[t];if(0!==a){if(a){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",c.name="ChunkLoadError",c.type=o,c.request=i,a[1](c)}s[t]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(e)},n.m=t,n.c=o,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var v=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},2600:function(t,e,a){},4678:function(t,e,a){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=i(t);return a(e)}function i(t){if(!a.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}s.keys=function(){return Object.keys(o)},s.resolve=i,t.exports=s,s.id="4678"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"}},[t.logado?a("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.lgAndUp,app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[t.isAdministrador||t.isSupervisor||t.isVendedor?[a("v-list-item",{attrs:{to:{name:"home"}}},[a("v-list-item-action",[a("v-icon",[t._v("home")])],1),a("v-list-item-title",[t._v(" Home "+t._s(t.$store.state.usuario.rol)+" ")])],1)]:t._e(),t.isAdministrador||t.isSupervisor?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v(" Estoque ")])],1)],1),a("v-list-item",{attrs:{to:{name:"categoria"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Categorias ")])],1)],1),a("v-list-item",{attrs:{to:{name:"artigo"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Artigos ")])],1)],1)],1)]:t._e(),t.isAdministrador||t.isSupervisor?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v(" Compras ")])],1)],1),a("v-list-item",{attrs:{to:{name:"entrada"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Entradas ")])],1)],1),a("v-list-item",{attrs:{to:{name:"fornecedor"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Fornecedores ")])],1)],1)],1)]:t._e(),t.isAdministrador||t.isVendedor?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v(" Vendas ")])],1)],1),a("v-list-item",{attrs:{to:{name:"venda"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Vendas ")])],1)],1),a("v-list-item",{attrs:{to:{name:"cliente"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Clientes ")])],1)],1)],1)]:t._e(),t.isAdministrador?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v(" Acessos ")])],1)],1),a("v-list-item",{attrs:{to:{name:"usuario"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Usuários ")])],1)],1)],1)]:t._e(),t.isAdministrador||t.isSupervisor||t.isVendedor?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v(" Consultas ")])],1)],1),a("v-list-item",{attrs:{to:{name:""}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Consulta Compras ")])],1)],1),a("v-list-item",{attrs:{to:{name:""}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Consulta Vendas ")])],1)],1)],1)]:t._e()],2)],1):t._e(),a("v-app-bar",{attrs:{"clipped-left":t.$vuetify.breakpoint.lgAndUp,app:"",color:"blue darken-3",dark:""}},[a("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"300px"}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("span",{staticClass:"hidden-sm-and-down"},[t._v("Sistema")])],1),a("v-spacer"),t.logado?a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.sair()}}},[a("v-icon",[t._v("logout")]),t._v(" Sair ")],1):a("v-btn",{attrs:{to:{name:"login"},icon:""}},[a("v-icon",[t._v("apps")]),t._v(" Login ")],1)],1),a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-slide-y-transition",{attrs:{mode:"out-in"}},[a("router-view")],1)],1)],1),a("v-footer",{attrs:{height:"auto"}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{"text-xs-center":""}},[a("v-card",{staticClass:"white--text",attrs:{flat:"",tile:"",color:"primary"}},[a("v-card-text",{staticClass:"white--text pt-0"},[t._v(" Neto lopes Dev ©2019 ")])],1)],1)],1)],1)],1)},i=[],r={name:"App",data:function(){return{drawer:!0}},computed:{logado:function(){return this.$store.state.usuario},isAdministrador:function(){return this.$store.state.usuario&&"Administrador"==this.$store.state.usuario.rol},isSupervisor:function(){return this.$store.state.usuario&&"Supervisor"==this.$store.state.usuario.rol},isVendedor:function(){return this.$store.state.usuario&&"Vendedor"==this.$store.state.usuario.rol}},created:function(){this.$store.dispatch("autoLogin")},methods:{sair:function(){this.$store.dispatch("sair")}}},n=r,l=a("2877"),c=a("6544"),d=a.n(c),v=a("7496"),u=a("40dc"),m=a("5bc1"),h=a("8336"),p=a("b0af"),f=a("99d9"),g=a("a523"),b=a("a75b"),x=a("0e8f"),_=a("553a"),k=a("132d"),C=a("a722"),A=a("8860"),y=a("56b0"),M=a("da13"),V=a("1800"),w=a("5d23"),j=a("f774"),T=a("0789"),I=a("2fa4"),D=a("2a7f"),N=Object(l["a"])(n,s,i,!1,null,null,null),E=N.exports;d()(N,{VApp:v["a"],VAppBar:u["a"],VAppBarNavIcon:m["a"],VBtn:h["a"],VCard:p["a"],VCardText:f["b"],VContainer:g["a"],VContent:b["a"],VFlex:x["a"],VFooter:_["a"],VIcon:k["a"],VLayout:C["a"],VList:A["a"],VListGroup:y["a"],VListItem:M["a"],VListItemAction:V["a"],VListItemContent:w["a"],VListItemTitle:w["b"],VNavigationDrawer:j["a"],VSlideYTransition:T["e"],VSpacer:I["a"],VToolbarTitle:D["a"]});a("45fc"),a("d3b7");var S=a("8c4f"),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-m":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("div",{staticClass:"ct-chart"},[a("canvas",{attrs:{id:"myChart"}})])])],1)],1)},O=[],F=(a("d81d"),a("bc3a")),L=a.n(F),q=a("30ef"),U=a.n(q),$={data:function(){return{valores:[],meses:[],totales:[]}},methods:{listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};L.a.get("venda/grafico12meses",a).then((function(e){t.valores=e.data,t.graficar()})).catch((function(t){console.log(t)}))},graficar:function(){var t=this,e="";t.valores.map((function(a){switch(parseInt(a._id.mes)){case 1:e="Enero";break;case 2:e="Febrero";break;case 3:e="Marzo";break;case 4:e="Abril";break;case 5:e="Mayo";break;case 6:e="Junio";break;case 7:e="Julio";break;case 8:e="Agosto";break;case 9:e="Setiembre";break;case 10:e="Octubre";break;case 11:e="Noviembre";break;case 12:e="Diciembre";break;default:e="error"}t.meses.push(e+"-"+a._id.year),t.totales.push(a.total)}));var a=document.getElementById("myChart");new U.a(a,{type:"bar",data:{labels:t.meses,datasets:[{label:"Ventas de los últimos 12 meses",data:t.totales,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}},mounted:function(){this.listar()}},z=$,G=Object(l["a"])(z,P,O,!1,null,null,null),R=G.exports;d()(G,{VContainer:g["a"],VFlex:x["a"],VLayout:C["a"]});var B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.categorias,search:t.search,"sort-by":"nome"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Categorias")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){e.on;return[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.openItem}},[t._v("Novo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nome"},model:{value:t.nome,callback:function(e){t.nome=e},expression:"nome"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Descrição"},model:{value:t.descricao,callback:function(e){t.descricao=e},expression:"descricao"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensagem,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Salvar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAcao?a("v-card-title",{staticClass:"headline"},[t._v(" Activar Item ")]):t._e(),2==t.adAcao?a("v-card-title",{staticClass:"headline"},[t._v(" Desactivar Item ")]):t._e(),a("v-card-text",[t._v(" Estás a punto de "),1==t.adAcao?a("span",[t._v("activar ")]):t._e(),2==t.adAcao?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.adNome)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v(" Cancelar ")]),"1"==t.adAcao?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:function(e){return t.activar()}}},[t._v(" Ativar ")]):t._e(),"2"==t.adAcao?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:function(e){return t.desactivar()}}},[t._v(" Desativar ")]):t._e()],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},[t._v(" mdi-pencil ")]),"ativo"==o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,o)}}},[t._v(" block ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,o)}}},[t._v(" check ")])]]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Atualizar")])]},proxy:!0}])})],1)],1)},K=[],H=(a("4160"),a("c975"),a("a434"),a("159b"),a("ade3")),W={name:"App",data:function(){return{search:"",categorias:[],dialog:!1,headers:[{text:"Nome",value:"nome"},{text:"Descrição",value:"descricao"},{text:"Estado",value:"estado"},{text:"Actions",value:"actions",sortable:!1}],editedIndex:-1,_id:"",nome:"",descricao:"",valida:0,validaMensagem:[],adModal:0,adAcao:0,adNome:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Novo":"Editar"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:Object(H["a"])({listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};L.a.get("categoria/list",a).then((function(e){t.categorias=e.data,t.categorias.forEach((function(t){"1"==t.estado&&(t.estado="ativo"),"0"==t.estado&&(t.estado="inativo")}))})).catch((function(t){console.log(t)}))},openItem:function(){this.nome="",this.descricao="",this.dialog=!0,this.editedIndex=-1},editItem:function(t){this._id=t._id,this.nome=t.nome,this.descricao=t.descricao,this.dialog=!0,this.editedIndex=1},deleteItem:function(t){var e=this.desserts.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(e,1)},close:function(){this.dialog=!1},limpar:function(){this._id="",this.nome="",this.descricao="",this.valida=0,this.validaMensagem=[],this.editedIndex=-1},validar:function(){return this.valida=0,this.validaMensagem=[],(this.nome.length<1||this.nome.length>50)&&this.validaMensagem.push("El nome de la categoría debe tener entre 1-50 caracteres."),this.descricao.length>255&&this.validaMensagem.push("La descripción de la categoría no debe tener más de 255 caracteres."),this.validaMensagem.length&&(this.valida=1),this.valida},save:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};this.validar()||(this.editedIndex>-1?L.a.put("categoria/update",{_id:this._id,nome:this.nome,descricao:this.descricao},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)})):L.a.post("categoria/add",{nome:this.nome,descricao:this.descricao},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNome=e.nombre,this.adId=e._id,1==t?this.adAcao=1:2==t?this.adAcao=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};L.a.put("categoria/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAcao=0,t.adNome="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};L.a.put("categoria/desactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAcao=0,t.adNome="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))}},"close",(function(){this.dialog=!1}))},X=W,Q=a("8fea"),J=a("169a"),Z=a("ce7e"),Y=a("8654"),tt=a("71d9"),et=Object(l["a"])(X,B,K,!1,null,null,null),at=et.exports;d()(et,{VBtn:h["a"],VCard:p["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VContainer:g["a"],VDataTable:Q["a"],VDialog:J["a"],VDivider:Z["a"],VFlex:x["a"],VIcon:k["a"],VLayout:C["a"],VSpacer:I["a"],VTextField:Y["a"],VToolbar:tt["a"],VToolbarTitle:D["a"]});var ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.usuarios,search:t.search,"sort-by":"nome"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("usuarios")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){e.on;return[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.openItem}},[t._v("Novo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nome"},model:{value:t.nome,callback:function(e){t.nome=e},expression:"nome"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.roles,label:"Rol"},model:{value:t.rol,callback:function(e){t.rol=e},expression:"rol"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.documentos,label:"Tipo Documento"},model:{value:t.tipo_documento,callback:function(e){t.tipo_documento=e},expression:"tipo_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Número Documento"},model:{value:t.num_documento,callback:function(e){t.num_documento=e},expression:"num_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Direção"},model:{value:t.direcao,callback:function(e){t.direcao=e},expression:"direcao"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Telefone"},model:{value:t.telefone,callback:function(e){t.telefone=e},expression:"telefone"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"password",label:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensagem,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Salvar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAcao?a("v-card-title",{staticClass:"headline"},[t._v(" Activar Item ")]):t._e(),2==t.adAcao?a("v-card-title",{staticClass:"headline"},[t._v(" Desactivar Item ")]):t._e(),a("v-card-text",[t._v(" Estás a punto de "),1==t.adAcao?a("span",[t._v("activar ")]):t._e(),2==t.adAcao?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.adNome)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v(" Cancelar ")]),"1"==t.adAcao?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:function(e){return t.activar()}}},[t._v(" Ativar ")]):t._e(),"2"==t.adAcao?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:function(e){return t.desactivar()}}},[t._v(" Desativar ")]):t._e()],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},[t._v(" mdi-pencil ")]),"ativo"==o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,o)}}},[t._v(" block ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,o)}}},[t._v(" check ")])]]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Atualizar")])]},proxy:!0}])})],1)],1)},st=[],it={name:"App",data:function(){return{search:"",usuarios:[],dialog:!1,headers:[{text:"Actions",value:"actions",sortable:!1},{text:"Nome",value:"nome",sortable:!0},{text:"Rol",value:"rol",sortable:!0},{text:"Tipo Documento",value:"tipo_documento",sortable:!0},{text:"Número Documento",value:"num_documento",sortable:!1},{text:"Direcao",value:"direcao",sortable:!1},{text:"Teléfono",value:"telefone",sortable:!1},{text:"Email",value:"email",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],editedIndex:-1,_id:"",nome:"",rol:"",roles:["Administrador","Supervisor","Vendedor"],tipo_documento:"",documentos:["DNI","RUC","PASAPORTE","CEDULA"],num_documento:"",direcao:"",telefone:"",email:"",password:"",valida:0,validaMensagem:[],adModal:0,adAcao:0,adNome:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:Object(H["a"])({listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};L.a.get("usuario/list",a).then((function(e){t.usuarios=e.data,t.usuarios.forEach((function(t){"1"==t.estado&&(t.estado="ativo"),"0"==t.estado&&(t.estado="inativo")}))})).catch((function(t){console.log(t)}))},openItem:function(){this.nome="",this.descricao="",this.dialog=!0,this.editedIndex=-1},editItem:function(t){this._id=t._id,this.rol=t.rol,this.nome=t.nome,this.tipo_documento=t.tipo_documento,this.num_documento=t.num_documento,this.direcao=t.direcao,this.telefone=t.telefone,this.email=t.email,this.password=t.password,this.dialog=!0,this.editedIndex=1},close:function(){this.dialog=!1},limpar:function(){this._id="",this.nome="",this.num_documento="",this.direcao="",this.telefone="",this.email="",this.password="",this.valida=0,this.validaMensagem=[],this.editedIndex=-1},validar:function(){return this.valida=0,this.validaMensagem=[],this.rol||this.validaMensagem.push("Seleccione un rol."),(this.nome.length<1||this.nome.length>50)&&this.validaMensagem.push("El nome del usuario debe tener entre 1-50 caracteres."),this.num_documento.length>20&&this.validaMensagem.push("El documento no debe tener más de 20 caracteres."),this.direcao.length>70&&this.validaMensagem.push("La dirección no debe tener más de 70 caracteres."),this.telefone.length>20&&this.validaMensagem.push("El teléfono no debe tener más de 20 caracteres."),(this.email.length<1||this.nome.length>50)&&this.validaMensagem.push("El email del usuario debe tener entre 1-50 caracteres."),(this.password.length<1||this.nome.length>64)&&this.validaMensagem.push("El password del usuario debe tener entre 1-64 caracteres."),this.validaMensagem.length&&(this.valida=1),this.valida},save:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};this.validar()||(this.editedIndex>-1?L.a.put("usuario/update",{_id:this._id,rol:this.rol,nome:this.nome,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direcao:this.direcao,telefone:this.telefone,email:this.email,password:this.password},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)})):L.a.post("usuario/add",{rol:this.rol,nome:this.nome,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direcao:this.direcao,telefone:this.telefone,email:this.email,password:this.password},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNome=e.nome,this.adId=e._id,1==t?this.adAcao=1:2==t?this.adAcao=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};L.a.put("usuario/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAcao=0,t.adNome="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};L.a.put("usuario/desactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAcao=0,t.adNome="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))}},"close",(function(){this.dialog=!1}))},rt=it,nt=a("b974"),lt=Object(l["a"])(rt,ot,st,!1,null,null,null),ct=lt.exports;d()(lt,{VBtn:h["a"],VCard:p["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VContainer:g["a"],VDataTable:Q["a"],VDialog:J["a"],VDivider:Z["a"],VFlex:x["a"],VIcon:k["a"],VLayout:C["a"],VSelect:nt["a"],VSpacer:I["a"],VTextField:Y["a"],VToolbar:tt["a"],VToolbarTitle:D["a"]});var dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg5:"",xl4:""}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"blue darken-3"}},[a("v-toolbar-title",[t._v(" Acesso ao Sistema ")])],1),a("v-card-text",[a("v-text-field",{attrs:{autofocus:"",color:"accent",label:"Email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{type:"password",color:"accent",label:"Password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t.errorM?a("v-flex",{staticClass:"red--text"},[t._v(" "+t._s(t.errorM)+" ")]):t._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.logar()}}},[t._v("Logar")])],1)],1)],1)],1)],1)},vt=[],ut={data:function(){var t;return t={email:"",password:""},Object(H["a"])(t,"password",""),Object(H["a"])(t,"errorM",null),t},methods:{logar:function(){var t=this;L.a.post("usuario/login",{email:this.email,password:this.password}).then((function(t){return t.data})).then((function(e){t.$store.dispatch("guardarToken",e.tokenReturn),t.$router.push({name:"home"})})).catch((function(e){t.errorM=null,404==e.response.status?t.errorM="No existe  usuario , password   incorrectas.":t.errorM="Ocurreu un error con  servidor."}))}}},mt=ut,ht=Object(l["a"])(mt,dt,vt,!1,null,null,null),pt=ht.exports;d()(ht,{VBtn:h["a"],VCard:p["a"],VCardActions:f["a"],VCardText:f["b"],VFlex:x["a"],VLayout:C["a"],VTextField:Y["a"],VToolbar:tt["a"],VToolbarTitle:D["a"]});var ft=a("2f62"),gt=a("04e1"),bt=a.n(gt);o["a"].use(ft["a"]);var xt=new ft["a"].Store({state:{token:null,usuario:null},mutations:{setToken:function(t,e){t.token=e},setUsuario:function(t,e){t.usuario=e}},actions:{guardarToken:function(t,e){var a=t.commit;a("setToken",e),a("setUsuario",bt()(e)),localStorage.setItem("token",e)},autoLogin:function(t){var e=t.commit,a=localStorage.getItem("token");a&&(e("setToken",a),e("setUsuario",bt()(a))),Jt.push({name:"home"})},sair:function(t){var e=t.commit;e("setToken",null),e("setUsuario",null),localStorage.removeItem("token"),Jt.push({name:"login"})}}}),_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.artigos,search:t.search,"sort-by":"nome"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.gerarPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Artigos")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){e.on;return[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.openItem}},[t._v("Novo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Código"},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.categorias,label:"Categoría"},model:{value:t.categoria,callback:function(e){t.categoria=e},expression:"categoria"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nome"},model:{value:t.nome,callback:function(e){t.nome=e},expression:"nome"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"number",label:"Stock"},model:{value:t.stock,callback:function(e){t.stock=e},expression:"stock"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"preco_venda"},model:{value:t.preco_venda,callback:function(e){t.preco_venda=e},expression:"preco_venda"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Descrição"},model:{value:t.descricao,callback:function(e){t.descricao=e},expression:"descricao"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensagem,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Salvar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAcao?a("v-card-title",{staticClass:"headline"},[t._v(" Activar Item ")]):t._e(),2==t.adAcao?a("v-card-title",{staticClass:"headline"},[t._v(" Desactivar Item ")]):t._e(),a("v-card-text",[t._v(" Estás a punto de "),1==t.adAcao?a("span",[t._v("activar ")]):t._e(),2==t.adAcao?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.adNome)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v(" Cancelar ")]),"1"==t.adAcao?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:function(e){return t.activar()}}},[t._v(" Ativar ")]):t._e(),"2"==t.adAcao?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:function(e){return t.desactivar()}}},[t._v(" Desativar ")]):t._e()],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},[t._v(" mdi-pencil ")]),"ativo"==o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,o)}}},[t._v(" block ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,o)}}},[t._v(" check ")])]]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Atualizar")])]},proxy:!0}])})],1)],1)},kt=[],Ct=a("e511"),At=a.n(Ct),yt=(a("0da4"),{name:"App",data:function(){return{search:"",artigos:[],dialog:!1,headers:[{text:"Actions",value:"actions",sortable:!1},{text:"Código",value:"codigo",sortable:!1},{text:"Nombre",value:"nome",sortable:!0},{text:"Categoría",value:"categoria.nome",sortable:!0},{text:"Stock",value:"stock",sortable:!1},{text:"Preco Venda",value:"preco_venda",sortable:!1},{text:"Descrição",value:"descricao",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],editedIndex:-1,_id:"",categoria:"",categorias:[],codigo:"",nome:"",stock:0,preco_venda:0,descricao:"",valida:0,validaMensagem:[],adModal:0,adAcao:0,adNome:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.selectCategoria()},methods:{gerarPDF:function(){var t=[{title:"Código",dataKey:"codigo"},{title:"Nome",dataKey:"nome"},{title:"Categoria",dataKey:"categoria"},{title:"Stock",dataKey:"stock"},{title:"Preço venda",dataKey:"preco_venda"}],e=[];this.artigos.map((function(t){e.push({nome:t.nome,codigo:t.codigo,categoria:t.categoria.nome,stock:t.stock,preco_venda:t.preco_venda})}));var a=new At.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Lista de Artigos",40,30)}}),a.save("Artigos.pdf")},selectCategoria:function(){var t=this,e=[],a={Token:this.$store.state.token},o={headers:a};L.a.get("categoria/list",o).then((function(a){e=a.data,e.map((function(e){t.categorias.push({text:e.nome,value:e._id})}))})).catch((function(t){console.log(t)}))},listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};L.a.get("artigo/list",a).then((function(e){t.artigos=e.data,t.artigos.forEach((function(t){"1"==t.estado&&(t.estado="ativo"),"0"==t.estado&&(t.estado="inativo")}))})).catch((function(t){console.log(t)}))},limpar:function(){this._id="",this.nome="",this.codigo="",this.stock=0,this.nome=0,this.descricao="",this.valida=0,this.validaMensagem=[],this.editedIndex=-1},validar:function(){return this.valida=0,this.validaMensagem=[],this.categoria||this.validaMensagem.push("Seleccione una categoría"),this.codigo.length>64&&this.validaMensagem.push("El código no debe tener más de 64 caracteres"),(this.nome.length<1||this.nome.length>50)&&this.validaMensagem.push("El nome del artículo debe tener entre 1-50 caracteres."),this.descricao.length>255&&this.validaMensagem.push("La descripción del artículo no debe tener más de 255 caracteres."),this.stock<0&&this.validaMensagem.push("Ingrese un stock valido"),this.nome<0&&this.validaMensagem.push("Ingrese un precio de venta valido"),this.validaMensagem.length&&(this.valida=1),this.valida},save:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};this.validar()||(this.editedIndex>-1?L.a.put("artigo/update",{_id:this._id,categoria:this.categoria,codigo:this.codigo,nome:this.nome,stock:this.stock,preco_venda:this.preco_venda,descricao:this.descricao},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)})):L.a.post("artigo/add",{categoria:this.categoria,codigo:this.codigo,nome:this.nome,stock:this.stock,preco_venda:this.preco_venda,descricao:this.descricao},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},openItem:function(){this.codigo="",this.nome="",this.stock="",this.nome="",this.preco_venda="",this.descricao="",this.categoria="",this.dialog=!0,this.editedIndex=-1},editItem:function(t){this._id=t._id,this.categoria=t.categoria._id,this.codigo=t.codigo,this.nome=t.nome,this.stock=t.stock,this.preco_venda=t.preco_venda,this.descricao=t.descricao,this.dialog=!0,this.editedIndex=1},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNome=e.nome,this.adId=e._id,1==t?this.adAcao=1:2==t?this.adAcao=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};L.a.put("artigo/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAcao=0,t.adNome="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};L.a.put("artigo/desactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAcao=0,t.adNome="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close:function(){this.dialog=!1}}}),Mt=yt,Vt=Object(l["a"])(Mt,_t,kt,!1,null,null,null),wt=Vt.exports;d()(Vt,{VBtn:h["a"],VCard:p["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VContainer:g["a"],VDataTable:Q["a"],VDialog:J["a"],VDivider:Z["a"],VFlex:x["a"],VIcon:k["a"],VLayout:C["a"],VSelect:nt["a"],VSpacer:I["a"],VTextField:Y["a"],VToolbar:tt["a"],VToolbarTitle:D["a"]});var jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.pessoas,search:t.search,"sort-by":"nome"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Categorias")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){e.on;return[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.openItem}},[t._v("Novo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nome"},model:{value:t.nome,callback:function(e){t.nome=e},expression:"nome"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.documentos,label:"Tipo Documento"},model:{value:t.tipo_documento,callback:function(e){t.tipo_documento=e},expression:"tipo_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Número Documento"},model:{value:t.num_documento,callback:function(e){t.num_documento=e},expression:"num_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Direção"},model:{value:t.direcao,callback:function(e){t.direcao=e},expression:"direcao"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Telefone"},model:{value:t.telefone,callback:function(e){t.telefone=e},expression:"telefone"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensagem,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Salvar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAcao?a("v-card-title",{staticClass:"headline"},[t._v(" Activar Item ")]):t._e(),2==t.adAcao?a("v-card-title",{staticClass:"headline"},[t._v(" Desactivar Item ")]):t._e(),a("v-card-text",[t._v(" Estás a punto de "),1==t.adAcao?a("span",[t._v("activar ")]):t._e(),2==t.adAcao?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.adNome)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v(" Cancelar ")]),"1"==t.adAcao?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:function(e){return t.activar()}}},[t._v(" Ativar ")]):t._e(),"2"==t.adAcao?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:function(e){return t.desactivar()}}},[t._v(" Desativar ")]):t._e()],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},[t._v(" mdi-pencil ")]),"ativo"==o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,o)}}},[t._v(" block ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,o)}}},[t._v(" check ")])]]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Atualizar")])]},proxy:!0}])})],1)],1)},Tt=[],It={data:function(){return{dialog:!1,search:"",pessoas:[],headers:[{text:"Actions",value:"actions",sortable:!1},{text:"Nome",value:"nome",sortable:!0},{text:"Tipo Persona",value:"tipo_pessoa",sortable:!0},{text:"Tipo Documento",value:"tipo_documento",sortable:!0},{text:"Número Documento",value:"num_documento",sortable:!1},{text:"Dirección",value:"direcao",sortable:!1},{text:"Teléfono",value:"telefone",sortable:!1},{text:"Email",value:"email",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],editedIndex:-1,_id:"",nome:"",tipo_pessoa:"Cliente",tipo_documento:"",documentos:["DNI","RUC","PASAPORTE","CEDULA"],num_documento:"",direcao:"",telefone:"",email:"",valida:0,validaMensagem:[],adModal:0,adAcao:0,adNome:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};L.a.get("pessoa/listClientes",a).then((function(e){t.pessoas=e.data,t.pessoas.forEach((function(t){"1"==t.estado&&(t.estado="ativo"),"0"==t.estado&&(t.estado="inativo")}))})).catch((function(t){console.log(t)}))},limpar:function(){this._id="",this.nome="",this.num_documento="",this.direcao="",this.telefone="",this.email="",this.valida=0,this.validaMensagem=[],this.editedIndex=-1},validar:function(){return this.valida=0,this.validaMensagem=[],(this.nome.length<1||this.nome.length>50)&&this.validaMensagem.push("El nome de la pessoa debe tener entre 1-50 caracteres."),this.num_documento.length>20&&this.validaMensagem.push("El documento no debe tener más de 20 caracteres."),this.direcao.length>70&&this.validaMensagem.push("La dirección no debe tener más de 70 caracteres."),this.telefone.length>20&&this.validaMensagem.push("El teléfono no debe tener más de 20 caracteres."),this.nome.length>50&&this.validaMensagem.push("El email del usuario debe tener menos de 50 caracteres."),this.validaMensagem.length&&(this.valida=1),this.valida},save:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};this.validar()||(this.editedIndex>-1?L.a.put("pessoa/update",{_id:this._id,tipo_pessoa:this.tipo_pessoa,nome:this.nome,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direcao:this.direcao,telefone:this.telefone,email:this.email},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)})):L.a.post("pessoa/add",{tipo_pessoa:this.tipo_pessoa,nome:this.nome,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direcao:this.direcao,telefone:this.telefone,email:this.email},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},openItem:function(){this.rol="",this.nome="",this.tipo_documento="",this.num_documento="",this.direcao="",this.telefone="",this.email="",this.password="",this.dialog=!0,this.editedIndex=-1},editItem:function(t){this._id=t._id,this.rol=t.rol,this.nome=t.nome,this.tipo_documento=t.tipo_documento,this.num_documento=t.num_documento,this.direcao=t.direcao,this.telefone=t.telefone,this.email=t.email,this.password=t.password,this.dialog=!0,this.editedIndex=1},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNome=e.nome,this.adId=e._id,1==t?this.adAcao=1:2==t?this.adAcao=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};L.a.put("pessoa/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAcao=0,t.adNome="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};L.a.put("pessoa/desactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAcao=0,t.adNome="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close:function(){this.dialog=!1}}},Dt=It,Nt=Object(l["a"])(Dt,jt,Tt,!1,null,null,null),Et=Nt.exports;d()(Nt,{VBtn:h["a"],VCard:p["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VContainer:g["a"],VDataTable:Q["a"],VDialog:J["a"],VDivider:Z["a"],VFlex:x["a"],VIcon:k["a"],VLayout:C["a"],VSelect:nt["a"],VSpacer:I["a"],VTextField:Y["a"],VToolbar:tt["a"],VToolbarTitle:D["a"]});var St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-data-table",{directives:[{name:"show",rawName:"v-show",value:0==t.verNovo,expression:"verNovo==0"}],staticClass:"elevation-1",attrs:{headers:t.headers,items:t.entradas,search:t.search,"sort-by":"nome"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("entradas")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:0==t.verNovo,expression:"verNovo==0"}],staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:0==t.verNovo,expression:"verNovo==0"}],staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.mostrarNovo}},[t._v("Novo")]),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Selecione um artigo")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Buscar"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.listarArtigos()}},model:{value:t.texto,callback:function(e){t.texto=e},expression:"texto"}}),[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabecalhoArtigos,items:t.artigos},scopedSlots:t._u([{key:"item",fn:function(e){return[a("tr",[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.codGetDetalhes(e.item)}}},[t._v(" add ")])],1),a("td",[t._v(t._s(e.item.codigo))]),a("td",[t._v(t._s(e.item.nome))]),a("td",[t._v(t._s(e.item.categoria.nome))]),a("td",[t._v(t._s(e.item.stock))]),a("td",[t._v(t._s(e.item.preco_venda))]),a("td",[t._v(t._s(e.item.descricao))]),a("td",[e.item.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])])]}}])})]],2)]],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAcao?a("v-card-title",{staticClass:"headline"},[t._v(" Activar Item ")]):t._e(),2==t.adAcao?a("v-card-title",{staticClass:"headline"},[t._v(" Desactivar Item ")]):t._e(),a("v-card-text",[t._v(" Estás a punto de "),1==t.adAcao?a("span",[t._v("activar ")]):t._e(),2==t.adAcao?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.adNome)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v(" Cancelar ")]),"1"==t.adAcao?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:function(e){return t.activar()}}},[t._v(" Ativar ")]):t._e(),"2"==t.adAcao?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:function(e){return t.desactivar()}}},[t._v(" Desativar ")]):t._e()],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.verEntrada(o)}}},[t._v(" tab ")]),"ativo"==o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,o)}}},[t._v(" block ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,o)}}},[t._v(" check ")])]]}}])}),a("v-container",{directives:[{name:"show",rawName:"v-show",value:t.verNovo,expression:"verNovo"}],attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{x12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:t.comprovantes,label:"Tipo Comprovante"},model:{value:t.tipo_comprovante,callback:function(e){t.tipo_comprovante=e},expression:"tipo_comprovante"}})],1),a("v-flex",{attrs:{x12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Serie Comprovante"},model:{value:t.serie_comprovante,callback:function(e){t.serie_comprovante=e},expression:"serie_comprovante"}})],1),a("v-flex",{attrs:{x12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Numero Comprovante"},model:{value:t.num_comprovante,callback:function(e){t.num_comprovante=e},expression:"num_comprovante"}})],1),a("v-flex",{attrs:{x12:"",sm4:"",md4:"",lg8:"",xl8:""}},[a("v-autocomplete",{attrs:{items:t.pessoas,label:"Fornecedor"},model:{value:t.pessoa,callback:function(e){t.pessoa=e},expression:"pessoa"}})],1),a("v-flex",{attrs:{x12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Imposto"},model:{value:t.imposto,callback:function(e){t.imposto=e},expression:"imposto"}})],1),a("v-flex",{attrs:{x12:"",sm8:"",md8:"",lg8:"",x8:""}},[a("v-text-field",{attrs:{label:"Código"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.buscarCodigo(e)}},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),a("v-flex",{attrs:{x12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"teal"},on:{click:function(e){return t.mostarModalArtigos()}}},[a("v-icon",{attrs:{dark:""}},[t._v("list")])],1)],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.errorArtigo,expression:"errorArtigo"}],attrs:{x12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("div",{staticClass:"red--text",domProps:{textContent:t._s(t.errorArtigo)}})]),a("v-flex",{attrs:{x12:"",sm12:"",md12:"",lg12:"",xl12:""}},[[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabecalhoDetalhes,items:t.detalhes,"hide-default-footer":""},scopedSlots:t._u([{key:"item",fn:function(e){return[a("tr",[a("td",[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.artigoDeleteDetalhes(t.detalhes,e.item)}}},[t._v("delete")])],1),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.artigo))]),a("td",{staticClass:"text-xs-center"},[a("v-text-field",{attrs:{type:"number"},model:{value:e.item.qtde,callback:function(a){t.$set(e.item,"qtde",a)},expression:"props.item.qtde"}})],1),a("td",{staticClass:"text-xs-center"},[a("v-text-field",{model:{value:e.item.preco,callback:function(a){t.$set(e.item,"preco",a)},expression:"props.item.preco"}})],1),a("td",{staticClass:"text-xs-center"},[t._v("$"+t._s(e.item.qtde*e.item.preco))])])]}}])},[a("template",{slot:"no-data"},[a("h3",[t._v("Nao existe artigos em detalhes")])])],2),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Parcial:")]),t._v("$ "+t._s(t.totalParcial=(t.total-t.totalImposto).toFixed(2))+" ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Imposto:")]),t._v("$ "+t._s(t.totalImposto=(t.total*t.imposto/(1+t.imposto)).toFixed(2))+" ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total :")]),t._v("$ "+t._s(t.total=t.calcularTotal)+" ")])]],2),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},t._l(t.validaMensagem,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}},[t._v("Cancelar")])})),0),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-btn",{attrs:{color:"blue darken-1",text:""},nativeOn:{click:function(e){return t.ocultarNovo()}}},[t._v("Cancelar")]),0==t.verDetalhe?a("v-btn",{attrs:{color:"success"},nativeOn:{click:function(e){return t.save()}}},[t._v("Salvar")]):t._e()],1)],1)],1)],1)],1)},Pt=[],Ot={name:"App",data:function(){return{search:"",entradas:[],dialog:!1,headers:[{text:"Actions",value:"actions",sortable:!1},{text:"Usuario",value:"usuario.nome",sortable:!0},{text:"Pessoa",value:"pessoa.nome",sortable:!0},{text:"Tipo Documento",value:"tipo_comprovante",sortable:!0},{text:"Série comprovante",value:"serie_comprovante",sortable:!1},{text:"Número comprovante",value:"num_comprovante",sortable:!1},{text:"Fecha",value:"createdAt",sortable:!1},{text:"Imposto",value:"imposto",sortable:!1},{text:"Total",value:"total",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],_id:"",pessoa:"",pessoas:[],tipo_comprovante:"",comprovantes:["BOLETO","FATURA","TICKET","GUIA"],serie_comprovante:"",num_comprovante:"",imposto:.18,codigo:"",cabecalhoDetalhes:[{text:"Apagar",value:"apagar",sortable:!1},{text:"Artigo",value:"artigo",sortable:!1},{text:"Qtde",value:"qtde",sortable:!1},{text:"Preço",value:"preco",sortable:!1},{text:"Sub Total",value:"subtotal",sortable:!1}],detalhes:[],verNovo:0,errorArtigo:null,total:0,totalParcial:0,totalImposto:0,artigos:[],texto:"",cabecalhoArtigos:[{text:"Selecionar",value:"selecionar",sortable:!1},{text:"Código",value:"codigo",sortable:!1},{text:"Nome",value:"nome",sortable:!0},{text:"Categoria",value:"categoria.nome",sortable:!0},{text:"Stock",value:"stock",sortable:!1},{text:"Preco Venda",value:"preco_venda",sortable:!1},{text:"Descrição",value:"descricao",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],verDetalhe:0,valida:0,validaMensagem:[],adModal:0,adAcao:0,adNome:"",adId:""}},computed:{calcularTotal:function(){for(var t=0,e=0;e<this.detalhes.length;e++)t+=this.detalhes[e].qtde*this.detalhes[e].preco;return t}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.selectPessoa()},methods:Object(H["a"])({selectPessoa:function(){var t=this,e=[],a={Token:this.$store.state.token},o={headers:a};L.a.get("pessoa/listFornecedores",o).then((function(a){e=a.data,e.map((function(e){t.pessoas.push({text:e.nome,value:e._id})}))})).catch((function(t){console.log(t)}))},buscarCodigo:function(){var t=this;t.errorArtigo=null;var e={Token:this.$store.state.token},a={headers:e};L.a.get("artigo/queryCodigo?codigo="+this.codigo,a).then((function(e){t.codGetDetalhes(e.data)})).catch((function(e){t.errorArtigo="Código de  artigo esta inválido!",console.log(e)}))},codGetDetalhes:function(t){this.errorArtigo=null,1==this.checkIdCod(t._id)?this.errorArtigo="artigo ja foi incluído!":(this.detalhes.push({_id:t._id,artigo:t.nome,qtde:1,preco:t.preco_venda}),this.codigo="")},checkIdCod:function(t){for(var e=0,a=0;a<this.detalhes.length;a++)this.detalhes[a]._id==t&&(e=!0);return e},artigoDeleteDetalhes:function(t,e){var a=t.indexOf(e);-1!=a&&t.splice(a,1)},listarArtigos:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};L.a.get("artigo/list?valor="+this.texto,a).then((function(e){t.artigos=e.data,t.artigos.forEach((function(t){"1"==t.estado&&(t.estado="ativo"),"0"==t.estado&&(t.estado="inativo")}))})).catch((function(t){console.log(t)}))},listarDetalhes:function(t){var e=this,a={Token:this.$store.state.token},o={headers:a};L.a.get("entrada/query?_id="+t,o).then((function(t){e.detalhes=t.data.detalhes})).catch((function(t){console.log(t)}))},verEntrada:function(t){this.limpar(),this.tipo_comprovante=t.tipo_comprovante,this.serie_comprovante=t.serie_comprovante,this.num_comprovante=t.num_comprovante,this.pessoa=t.pessoa._id,this.imposto=t.imposto,this.listarDetalhes(t._id),this.verNovo=1,this.verDetalhe=1},listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};L.a.get("entrada/list",a).then((function(e){t.entradas=e.data,t.entradas.forEach((function(t){"1"==t.estado&&(t.estado="ativo"),"0"==t.estado&&(t.estado="Anulado")}))})).catch((function(t){console.log(t)}))},mostrarNovo:function(){this.verNovo=1},ocultarNovo:function(){this.verNovo=0,this.limpar()},mostarModalArtigos:function(){this.dialog=1},close:function(){this.dialog=!1},limpar:function(){this._id="",this.tipo_comprovante="",this.serie_comprovante="",this.num_comprovante="",this.imposto=.18,this.codigo="",this.total=0,this.totalParcial=0,this.totalImposto=0,this.detalhes=[],this.verNovo=0,this.valida=0,this.validaMensagem=[],this.verDetalhe=0},validar:function(){return this.valida=0,this.validaMensagem=[],this.persona||this.validaMensagem.push("Seleccione un proveedor."),this.tipo_comprovante||this.validaMensagem.push("Seleccione un tipo de comprovante."),this.num_comprovante||this.validaMensagem.push("Ingrese el número del comprovante."),(!this.imposto||this.imposto<0||this.imposto>1)&&this.validaMensagem.push("Ingrese un imposto válido."),this.detalhes.length<=0&&this.validaMensagem.push("Ingrese al menos un artículo al detalle"),this.validaMensagem.length&&(this.valida=1),this.valida},save:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};this.validar()&&L.a.post("entrada/add",{pessoa:this.pessoa,usuario:this.$store.state.usuario._id,tipo_comprovante:this.tipo_comprovante,serie_comprovante:this.serie_comprovante,num_comprovante:this.num_comprovante,imposto:this.imposto,total:this.total,detalhes:this.detalhes},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)}))},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNome=e.num_comprovante,this.adId=e._id,1==t?this.adAcao=1:2==t?this.adAcao=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};L.a.put("entrada/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAcao=0,t.adNome="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};L.a.put("entrada/desactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAcao=0,t.adNome="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))}},"close",(function(){this.dialog=!1}))},Ft=Ot,Lt=a("c6a6"),qt=Object(l["a"])(Ft,St,Pt,!1,null,null,null),Ut=qt.exports;d()(qt,{VAutocomplete:Lt["a"],VBtn:h["a"],VCard:p["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VContainer:g["a"],VDataTable:Q["a"],VDialog:J["a"],VDivider:Z["a"],VFlex:x["a"],VIcon:k["a"],VLayout:C["a"],VSelect:nt["a"],VSpacer:I["a"],VTextField:Y["a"],VToolbar:tt["a"],VToolbarTitle:D["a"]});var $t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-data-table",{directives:[{name:"show",rawName:"v-show",value:0==t.verNovo,expression:"verNovo==0"}],staticClass:"elevation-1",attrs:{headers:t.headers,items:t.vendas,search:t.search,"sort-by":"nome"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Vendas")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:0==t.verNovo,expression:"verNovo==0"}],staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:0==t.verNovo,expression:"verNovo==0"}],staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.mostrarNovo}},[t._v("Novo")]),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Selecione um artigo")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Buscar"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.listarArtigos()}},model:{value:t.texto,callback:function(e){t.texto=e},expression:"texto"}}),[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabecalhoArtigos,items:t.artigos},scopedSlots:t._u([{key:"item",fn:function(e){return[a("tr",[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.codGetDetalhes(e.item)}}},[t._v(" add ")])],1),a("td",[t._v(t._s(e.item.codigo))]),a("td",[t._v(t._s(e.item.nome))]),a("td",[t._v(t._s(e.item.categoria.nome))]),a("td",[t._v(t._s(e.item.stock))]),a("td",[t._v(t._s(e.item.preco_venda))]),a("td",[t._v(t._s(e.item.descricao))]),a("td",[e.item.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])])]}}])})]],2)]],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAcao?a("v-card-title",{staticClass:"headline"},[t._v(" Activar Item ")]):t._e(),2==t.adAcao?a("v-card-title",{staticClass:"headline"},[t._v(" Desactivar Item ")]):t._e(),a("v-card-text",[t._v(" Estás a punto de "),1==t.adAcao?a("span",[t._v("activar ")]):t._e(),2==t.adAcao?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.adNome)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v(" Cancelar ")]),"1"==t.adAcao?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:function(e){return t.activar()}}},[t._v(" Ativar ")]):t._e(),"2"==t.adAcao?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:function(e){return t.desactivar()}}},[t._v(" Desativar ")]):t._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.comprovanteModal,callback:function(e){t.comprovanteModal=e},expression:"comprovanteModal"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[a("v-btn",{on:{click:function(e){return t.gerarPDF()}}},[a("v-icon",[t._v("print")])],1),t._v("Relatório de Vendas ")],1),a("v-card-text",[a("div",{attrs:{id:"factura"}},[a("header",[a("div",{attrs:{id:"logo"}},[a("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAilBMVEX////tHCTsAAD84OHtEBrxY2bsCBXtDhntFh/sABDtEx34tLbsAAv70tP0iYzze37+8/P829z3rK795eb5vsD96+zwVFj5x8jzd3rzgIP5wsTwUVX70dL1k5bvPUPwWFzxZWnwSE3uLTT1mZvzhIbvOj/uLTP4sbPvQkfyb3P+9vbuNDr2oKL0j5G/lkIGAAAHyElEQVR4nO2dbXuiOhCGYYq8+1q1aqtotbW22///9xatPUeSwAxICOw196fdvRbJA8nMZDIJlsUwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMOU5rE/newHh+FisTzsJ9OXx0/TLaqPh+i7Z0NKHLg/BPH5r35yOI47r7P/J/EBXMe3FYRuDO7z+sV0I+9hDoGj0nYrMwDoHWemW1qVHqbvByeGJDLd1moQFZ5FAgzHpptbAbrCFBd2U9MNLk0phemYhNej6SaXpKRC2/bhvVvvsbTCs8aP9rqPz61oKyooPPfV08hI+1EiFx6Ef6qkMLU5wcSIgmJGCdh1KbRteG5dDLCKPbtGhal/bJnFWcLlydenMP2xhRElaka72K5doR28taanjt2rkHoV2mHcEr8xhd+5Uc0KU9/YihDnD/zXoroVpr+4NqIpwwBu2lO7QhuWRlTdsITb5tSv0LhJzQjUotCwxAFkG6NDodGO+geEtmhRaNDcTEFsih6Ftimn0RcFalNogxHXP3KlJKg2hX5sIoD7kFuvTaEdvjUvcBnL7dCn0A4a9xkraRDqVWg3PV8cKd6gXoU2NDsUE69xhc5zkwIjVR/VrNCGBtNTn25OG7QqtIPmkoyLKgp972dh9LJU6ikXFBHcU1MCx+o+WqDQdwHeT+voqT9+GPefovXpFUCOGDCg35DCXVhOoQf+ciVawtlq6UNOX8gj3DUjUOkK8xUGcMqLKl8WcVBKYkNO8Su3d8kKvQD2RfZhtIcyGv1XncJ+yfEUSoUJfKO/twalb825QxOL4fmvUFb4/Uj4wVkv/5lJL/FLh6Qs+aNQoZBIBHm2S77Fql45Cp4LGlNVoTXbUEdjqD12y/WFdym0rC21p4Luio1lkQu7Q6F1IEp0h/WJUVLYjnsUWt9EiVCbFiVSeq0+hWLyNfcmeh1GUjhZuE+htSWZGyepSYuSUfFjvlOhtSE5Da2T/YJ4hqBwPFkmu80uWU5y7OFMmRuR7qKzm26LZ7RFCtMoG2LX8X3fcdM/LZTRePEwv+L0dMmzEEtapHC1EWZKLmxU0UmPEqNqtKZyHp+mcPYMcjDrq2pmZpSXqDHHv0eMXY7CI6g7t6NYcVkT7Gmw16Zwjtg6tcICPwcD6X8TXmI416YQy5wpFS4KI1kpWb8n2FNPl8AH7PmqFCKRivQW1dl04SJd0XeE3VyhEPGgCu+Wl6q8IdblEQfYvWWFBNsohigv+CWuPHzroTgoVSqc40lvR7QbNppHDXWFpuitJYVPJPf2lL2ocAp6wbf1CPxEmysp/KCE0uFH9qKiTNDvjfRsl3osrRCLgX4vyybrKWOXksMrD95eUeGQlrUXExOv6EDUtICBB/6iQmoCLchedkLDb03Z/QnqiwWFhXm5zHVZD47HprGexVIs7pYU4o9E3WA0stAVe6MOX1R4oC6euYfMdbiP0eTy8QYLCslr3MKsHTdpwiOpC9wyCuMpdyVVRFj5xMevprQwHhIL73BDXcb2N5nr0DmM7eqpkPr33yFhHGYdcefGIcGWZmPoztlS3B8KM9PO+UO8wUG2ILtzMQ0el3pC0VLX4lLcAPjv2Su6NrfA54dizqVr80N8ji9VSnRsjk9IEbnC9paO5WmsBH0jvi9egq8leWKuzTeXa8NdvrQs1LF8Ke6J5ZC4WzlvigePxUpEpIhEKu0zum5hESyjHE8NC9eepEkCHhumkbougej64aXN0lUFb1FRnGl2/ZDyfAN5s2CUuwYsjyfDa8AEM6csd5nNFeWVIczbt45P6UK2p3JWTx9SLcbHk+L/Efyn3so2pJ7m2gClLe8Pg3M9TeiH53qaYKiMnVHfckZrPQ2pBbllWePJobfb7HqH3Joo2s/rrIlC6tquVN4O+Uara9O6OQhdBr4QbCv9eBtqE4nd1IYquTBilbDuDQnUQt7ysTGxgFZ3jTBh8nZtR9m3SK7z1n3CAj1/ti31u+2p1S/cb5GhzCFIs7f27LegZFF+G0O2Ce3aM1O070lqTkJ5jbOkXfueqA7jgkfYu/bdur1rhITtDQGsO7f/kFZufqsxfw/pqZS+5g5WIK98XvHAGU6lfcDToVOmf55pah8wNVl/y3kv93Z9vO7lPq6371B2m7Pd4F5u61S+cekYcm7246sP+EZobj++NSo3euqiwTMVrGP5fno/zZ4WNS9pI2pAWt/QC20PVq00fVRUSad4P82fSTts9i3GBs4W3NR69gyCs8EbVDuzoIpPq4YfGDlwt0JoUxUzZ+6Vm0fdJ9DYxy/2zUgEfWtNKNQM4H0C9RQiEilc4K1JoO5jIkxLNC1Qe0c120V/0GpuTBqZ/4kUW9HroSVnsqeuH/1sVTWcoCXn6p8PQdIRhseb1nwbwdJiUk0fxi4yjeud9Xtxy75RcqmZqVGgqtbGPMegSpJRhRu0xIaKjE70VbIC2vu9p5T+7m7f6MOuscx2Jaavd2n04bV1FkYi+qrcV0P46saHHlfPFVZdzqs3zw0sYdfEeAk5NaV5dPAbllFCF5nK6+R3SGdRDyDAxuTlW7JRG/07jZf93IHYDVX21T9/D9ibd/t7wBfG0SBRf9N5EHVs6BXx+fNd7uVwOFwO/rXvcjMMwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzTGXxaidiHpPPEhAAAAAElFTkSuQmCC",id:"imagen"}})]),a("div",{attrs:{id:"datos"}},[a("p",{attrs:{id:"encabezado"}},[a("b",[t._v("IncanatoIT")]),a("br"),t._v("José Gálvez 1368, Chongoyape - Chiclayo, Perú"),a("br"),t._v("Telefono:(+51)931742904"),a("br"),t._v("Email:jcarlos.ad7@gmail.com ")])]),a("div",{attrs:{id:"fact"}},[a("p",[t._v(t._s(t.tipo_comprovante)),a("br"),t._v(" "+t._s(t.serie_comprovante)+"- "+t._s(t.num_comprovante)),a("br"),t._v(" "+t._s(t.dt))])])]),a("br"),a("section",[a("div",[a("table",{attrs:{id:"facliente"}},[a("tbody",[a("tr",[a("td",{attrs:{id:"cliente"}},[a("strong",[t._v("Sr(a). "+t._s(t.pessoa.nome))]),a("br"),a("strong",[t._v("Documento:")]),t._v(" "+t._s(t.pessoa.nome)),a("br"),a("strong",[t._v("Dirección:")]),t._v(" "+t._s(t.pessoa.direcao)),a("br"),a("strong",[t._v("Teléfono:")]),t._v(" "+t._s(t.pessoa.telefone)),a("br"),a("strong",[t._v("Email:")]),t._v(" "+t._s(t.pessoa.email)+" ")])])])])])]),a("br"),a("section",[a("div",[a("table",{attrs:{id:"facarticulo"}},[a("thead",[a("tr",{attrs:{id:"fa"}},[a("th",[t._v("CANT")]),a("th",[t._v("DESCRIPCION")]),a("th",[t._v("PRECIO UNIT")]),a("th",[t._v("DESC.")]),a("th",[t._v("PRECIO TOTAL")])])]),a("tbody",t._l(t.detalhes,(function(e){return a("tr",{key:e._id},[a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.qtde))]),a("td",[t._v(t._s(e.artigo))]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(e.preco))]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(e.desconto))]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(e.qtde*e.preco-e.desconto))])])})),0),a("tfoot",[a("tr",[a("th"),a("th"),a("th"),a("th",{staticStyle:{"text-align":"right"}},[t._v("SUBTOTAL")]),a("th",{staticStyle:{"text-align":"right"}},[t._v("$ "+t._s(t.totalParcial=(t.total-t.totalImposto).toFixed(2)))])]),a("tr",[a("th"),a("th"),a("th"),a("th",{staticStyle:{"text-align":"right"}},[t._v("IVA("+t._s(t.imposto)+")")]),a("th",{staticStyle:{"text-align":"right"}},[t._v("$ "+t._s(t.totalImposto=(t.total*t.imposto/(1+t.imposto)).toFixed(2)))])]),a("tr",[a("th"),a("th"),a("th"),a("th",{staticStyle:{"text-align":"right"}},[t._v("TOTAL")]),a("th",{staticStyle:{"text-align":"right"}},[t._v("$"+t._s(t.total=t.calcularTotal))])])])])])]),a("br"),a("br"),a("footer",[a("div",{attrs:{id:"gracias"}},[a("p",[a("b",[t._v("Gracias por su compra!")])])])])])]),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){return t.ocultarComprovante()}}},[t._v("Cancelar")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.verEntrada(o)}}},[t._v(" tab ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.mostarComprovante(o)}}},[t._v(" print ")]),"ativo"==o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,o)}}},[t._v(" block ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,o)}}},[t._v(" check ")])]]}}])}),a("v-container",{directives:[{name:"show",rawName:"v-show",value:t.verNovo,expression:"verNovo"}],attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{x12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:t.comprovantes,label:"Tipo Comprovante"},model:{value:t.tipo_comprovante,callback:function(e){t.tipo_comprovante=e},expression:"tipo_comprovante"}})],1),a("v-flex",{attrs:{x12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Serie Comprovante"},model:{value:t.serie_comprovante,callback:function(e){t.serie_comprovante=e},expression:"serie_comprovante"}})],1),a("v-flex",{attrs:{x12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Numero Comprovante"},model:{value:t.num_comprovante,callback:function(e){t.num_comprovante=e},expression:"num_comprovante"}})],1),a("v-flex",{attrs:{x12:"",sm4:"",md4:"",lg8:"",xl8:""}},[a("v-autocomplete",{attrs:{items:t.pessoas,label:"Cliente"},model:{value:t.pessoa,callback:function(e){t.pessoa=e},expression:"pessoa"}})],1),a("v-flex",{attrs:{x12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Imposto"},model:{value:t.imposto,callback:function(e){t.imposto=e},expression:"imposto"}})],1),a("v-flex",{attrs:{x12:"",sm8:"",md8:"",lg8:"",x8:""}},[a("v-text-field",{attrs:{label:"Código"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.buscarCodigo(e)}},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),a("v-flex",{attrs:{x12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"teal"},on:{click:function(e){return t.mostarModalArtigos()}}},[a("v-icon",{attrs:{dark:""}},[t._v("list")])],1)],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.errorArtigo,expression:"errorArtigo"}],attrs:{x12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("div",{staticClass:"red--text",domProps:{textContent:t._s(t.errorArtigo)}})]),a("v-flex",{attrs:{x12:"",sm12:"",md12:"",lg12:"",xl12:""}},[[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabecalhoDetalhes,items:t.detalhes,"hide-default-footer":""},scopedSlots:t._u([{key:"item",fn:function(e){return[a("tr",[a("td",[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.artigoDeleteDetalhes(t.detalhes,e.item)}}},[t._v("delete")])],1),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.artigo))]),a("td",{staticClass:"text-xs-center"},[a("v-text-field",{attrs:{type:"number"},model:{value:e.item.qtde,callback:function(a){t.$set(e.item,"qtde",a)},expression:"props.item.qtde"}})],1),a("td",{staticClass:"text-xs-center"},[a("v-text-field",{model:{value:e.item.preco,callback:function(a){t.$set(e.item,"preco",a)},expression:"props.item.preco"}})],1),a("td",{staticClass:"text-xs-center"},[a("v-text-field",{model:{value:e.item.desconto,callback:function(a){t.$set(e.item,"desconto",a)},expression:"props.item.desconto"}})],1),a("td",{staticClass:"text-xs-center"},[t._v("$"+t._s(e.item.qtde*e.item.preco-e.item.desconto))])])]}}])},[a("template",{slot:"no-data"},[a("h3",[t._v("Nao existe artigos em detalhes")])])],2),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Parcial:")]),t._v("$ "+t._s(t.totalParcial=(t.total-t.totalImposto).toFixed(2))+" ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Imposto:")]),t._v("$ "+t._s(t.totalImposto=(t.total*t.imposto/(1+t.imposto)).toFixed(2))+" ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total :")]),t._v("$ "+t._s(t.total=t.calcularTotal)+" ")])]],2),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},t._l(t.validaMensagem,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}},[t._v("Cancelar")])})),0),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-btn",{attrs:{color:"blue darken-1",text:""},nativeOn:{click:function(e){return t.ocultarNovo()}}},[t._v("Cancelar")]),0==t.verDetalhe?a("v-btn",{attrs:{color:"success"},nativeOn:{click:function(e){return t.save()}}},[t._v("Salvar")]):t._e()],1)],1)],1)],1)],1)},zt=[],Gt=a("c0e9"),Rt=a.n(Gt),Bt={name:"App",data:function(){return{search:"",vendas:[],dialog:!1,headers:[{text:"Actions",value:"actions",sortable:!1},{text:"Usuario",value:"usuario.nome",sortable:!0},{text:"Cliente",value:"pessoa.nome",sortable:!0},{text:"Tipo Documento",value:"tipo_comprovante",sortable:!0},{text:"Série comprovante",value:"serie_comprovante",sortable:!1},{text:"Número comprovante",value:"num_comprovante",sortable:!1},{text:"Fecha",value:"createdAt",sortable:!1},{text:"Imposto",value:"imposto",sortable:!1},{text:"Total",value:"total",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],_id:"",pessoa:"",pessoas:[],tipo_comprovante:"",comprovantes:["BOLETO","FATURA","TICKET","GUIA"],serie_comprovante:"",num_comprovante:"",imposto:.18,codigo:"",cabecalhoDetalhes:[{text:"Apagar",value:"apagar",sortable:!1},{text:"Artigo",value:"artigo",sortable:!1},{text:"Qtde",value:"qtde",sortable:!1},{text:"Preço",value:"preco",sortable:!1},{text:"Desconto",value:"desconto",sortable:!1},{text:"Sub Total",value:"subtotal",sortable:!1}],detalhes:[],verNovo:0,errorArtigo:null,total:0,totalParcial:0,totalImposto:0,artigos:[],texto:"",cabecalhoArtigos:[{text:"Selecionar",value:"selecionar",sortable:!1},{text:"Código",value:"codigo",sortable:!1},{text:"Nome",value:"nome",sortable:!0},{text:"Categoria",value:"categoria.nome",sortable:!0},{text:"Stock",value:"stock",sortable:!1},{text:"Preco Venda",value:"preco_venda",sortable:!1},{text:"Descrição",value:"descricao",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],verDetalhe:0,valida:0,validaMensagem:[],adModal:0,adAcao:0,adNome:"",adId:"",comprovanteModal:0,dt:null}},computed:{calcularTotal:function(){for(var t=0,e=0;e<this.detalhes.length;e++)t+=this.detalhes[e].qtde*this.detalhes[e].preco-this.detalhes[e].desconto;return t}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.selectPessoa()},methods:Object(H["a"])({gerarPDF:function(){var t=document.getElementById("factura");Rt()(t).then((function(t){var e=t.toDataURL("image/png"),a=210,o=295,s=t.height*a/t.width,i=s,r=new At.a("p","mm","a4"),n=0;r.addImage(e,"PNG",0,n,a,s),i-=o;while(i>=0)n=i-s,r.addPage(),r.addImage(e,"PNG",0,n,a,s),i-=o;r.save("ComprovanteVenda.pdf")}))},mostarComprovante:function(t){this.limpar(),this.tipo_comprovante=t.tipo_comprovante,this.serie_comprovante=t.serie_comprovante,this.num_comprovante=t.num_comprovante,this.dt=t.createdAt,this.pessoa=t.pessoa,this.imposto=t.imposto,this.listarDetalhes(t._id),this.comprovanteModal=1},ocultarComprovante:function(){this.comprovanteModal=0},selectPessoa:function(){var t=this,e=[],a={Token:this.$store.state.token},o={headers:a};L.a.get("pessoa/listClientes",o).then((function(a){e=a.data,e.map((function(e){t.pessoas.push({text:e.nome,value:e._id})}))})).catch((function(t){console.log(t)}))},buscarCodigo:function(){var t=this;t.errorArtigo=null;var e={Token:this.$store.state.token},a={headers:e};L.a.get("artigo/queryCodigo?codigo="+this.codigo,a).then((function(e){t.codGetDetalhes(e.data)})).catch((function(e){t.errorArtigo="Código de  artigo esta inválido!",console.log(e)}))},codGetDetalhes:function(t){this.errorArtigo=null,1==this.checkIdCod(t._id)?this.errorArtigo="artigo ja foi incluído!":(this.detalhes.push({_id:t._id,artigo:t.nome,qtde:1,preco:t.preco_venda,desconto:0}),this.codigo="")},checkIdCod:function(t){for(var e=0,a=0;a<this.detalhes.length;a++)this.detalhes[a]._id==t&&(e=!0);return e},artigoDeleteDetalhes:function(t,e){var a=t.indexOf(e);-1!=a&&t.splice(a,1)},listarArtigos:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};L.a.get("artigo/list?valor="+this.texto,a).then((function(e){t.artigos=e.data,t.artigos.forEach((function(t){"1"==t.estado&&(t.estado="ativo"),"0"==t.estado&&(t.estado="inativo")}))})).catch((function(t){console.log(t)}))},listarDetalhes:function(t){var e=this,a={Token:this.$store.state.token},o={headers:a};L.a.get("venda/query?_id="+t,o).then((function(t){e.detalhes=t.data.detalhes})).catch((function(t){console.log(t)}))},verEntrada:function(t){this.limpar(),this.tipo_comprovante=t.tipo_comprovante,this.serie_comprovante=t.serie_comprovante,this.num_comprovante=t.num_comprovante,this.pessoa=t.pessoa._id,this.imposto=t.imposto,this.listarDetalhes(t._id),this.verNovo=1,this.verDetalhe=1},listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};L.a.get("venda/list",a).then((function(e){t.vendas=e.data,t.vendas.forEach((function(t){"1"==t.estado&&(t.estado="ativo"),"0"==t.estado&&(t.estado="Anulado")}))})).catch((function(t){console.log(t)}))},mostrarNovo:function(){this.verNovo=1},ocultarNovo:function(){this.verNovo=0,this.limpar()},mostarModalArtigos:function(){this.dialog=1},close:function(){this.dialog=!1},limpar:function(){this._id="",this.tipo_comprovante="",this.serie_comprovante="",this.num_comprovante="",this.imposto=.18,this.codigo="",this.total=0,this.totalParcial=0,this.totalImposto=0,this.detalhes=[],this.verNovo=0,this.valida=0,this.validaMensagem=[],this.verDetalhe=0},validar:function(){return this.valida=0,this.validaMensagem=[],this.persona||this.validaMensagem.push("Seleccione un cliente."),this.tipo_comprovante||this.validaMensagem.push("Seleccione un tipo de comprovante."),this.num_comprovante||this.validaMensagem.push("Ingrese el número del comprovante."),(!this.imposto||this.imposto<0||this.imposto>1)&&this.validaMensagem.push("Ingrese un imposto válido."),this.detalhes.length<=0&&this.validaMensagem.push("Ingrese al menos un artículo al detalle"),this.validaMensagem.length&&(this.valida=1),this.valida},save:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};this.validar()&&L.a.post("venda/add",{pessoa:this.pessoa,usuario:this.$store.state.usuario._id,tipo_comprovante:this.tipo_comprovante,serie_comprovante:this.serie_comprovante,num_comprovante:this.num_comprovante,imposto:this.imposto,total:this.total,detalhes:this.detalhes},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)}))},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNome=e.num_comprovante,this.adId=e._id,1==t?this.adAcao=1:2==t?this.adAcao=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};L.a.put("venda/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAcao=0,t.adNome="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};L.a.put("venda/desactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAcao=0,t.adNome="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))}},"close",(function(){this.dialog=!1}))},Kt=Bt,Ht=(a("7c48"),Object(l["a"])(Kt,$t,zt,!1,null,null,null)),Wt=Ht.exports;d()(Ht,{VAutocomplete:Lt["a"],VBtn:h["a"],VCard:p["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VContainer:g["a"],VDataTable:Q["a"],VDialog:J["a"],VDivider:Z["a"],VFlex:x["a"],VIcon:k["a"],VLayout:C["a"],VSelect:nt["a"],VSpacer:I["a"],VTextField:Y["a"],VToolbar:tt["a"],VToolbarTitle:D["a"]}),o["a"].use(S["a"]);var Xt=[{path:"/",name:"home",component:R,meta:{administrador:!0,supervisor:!0,vendedor:!0}},{path:"/categoria",name:"categoria",component:at,meta:{administrador:!0,supervisor:!0}},{path:"/artigo",name:"artigo",component:wt,meta:{administrador:!0,supervisor:!0}},{path:"/cliente",name:"cliente",component:Et,meta:{administrador:!0,vendedor:!0}},{path:"/entrada",name:"entrada",component:Ut,meta:{administrador:!0,vendedor:!0}},{path:"/venda",name:"venda",component:Wt,meta:{administrador:!0,vendedor:!0}},{path:"/usuario",name:"usuario",component:ct,meta:{administrador:!0}},{path:"/login",name:"login",component:pt,meta:{livre:!0}},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],Qt=new S["a"]({mode:"history",base:"/",routes:Xt});Qt.beforeEach((function(t,e,a){t.matched.some((function(t){return t.meta.livre}))?a():xt.state.usuario&&"Administrador"==xt.state.usuario.rol?t.matched.some((function(t){return t.meta.administrador}))&&a():xt.state.usuario&&"Supervisor"==xt.state.usuario.rol?t.matched.some((function(t){return t.meta.supervisor}))&&a():xt.state.usuario&&"Vendedor"==xt.state.usuario.rol?t.matched.some((function(t){return t.meta.vendedor}))&&a():a({name:"login"})}));var Jt=Qt,Zt=a("f309");o["a"].use(Zt["a"]);var Yt=new Zt["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#004d9f",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}},icons:{iconfont:"fa4"}});o["a"].config.devtools=!0,o["a"].config.productionTip=!1,L.a.defaults.baseURL="http://localhost:3000/api/",new o["a"]({router:Jt,store:xt,vuetify:Yt,render:function(t){return t(E)}}).$mount("#app")},"7c48":function(t,e,a){"use strict";var o=a("2600"),s=a.n(o);s.a}});
//# sourceMappingURL=app.93b322c8.js.map